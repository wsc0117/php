<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>后台注册页面</title>
        <link rel="stylesheet" href="../css/bootstrap3.min.css">
        <script src="../js/jquery.min.js"></script>
        <script src="../js/bootstrap3.min.js"></script>
        <link rel="stylesheet" href="../css/register.css">
    </head>

    <body>
        <div class="container">
            <div class="row">
                <!--左空白-->
                <div class="col-md-3 "></div>
                <!--中-->
                <div class="col-md-6 ">
                    <div class="row form-group d2">
                        <!--<img src="img/fengmian2.jpg" alt="封面" class="img-responsive">-->
                        <h2>Register</h2>
                        <form action="" class="form-horizontal" role="form" method="post">
                            <!-- 左留白 -->
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="col-md-1"></div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <!-- 用户名 -->
                                        <label class="control-label col-md-3 username">账号</label>
                                        <div class="col-md-9 input-group">
                                            <span class="glyphicon glyphicon-user input-group-addon"></span>
                                            <input type="text" class="form-control" name="userkey" placeholder="请输入用户名" id="userkey"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <!-- 密码 -->
                                        <label class="control-label col-md-3 pwd">密码</label>
                                        <div class="col-md-9  input-group">
                                            <span class="glyphicon glyphicon-lock input-group-addon"></span>
                                            <input type="password" class="form-control" name="password" placeholder="请输入密码" id="password">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <!-- 确认密码 -->
                                        <label class="control-label col-md-3 pwd">确认密码</label>
                                        <div class="col-md-9  input-group">
                                            <span class="glyphicon glyphicon-lock input-group-addon"></span>
                                            <input type="password" class="form-control" name="pwd" placeholder="请再次输入密码" id="pwd">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <!-- 姓名 -->
                                        <label class="control-label col-md-3 username">姓名</label>
                                        <div class="col-md-9 input-group">
                                            <span class="glyphicon glyphicon-flag input-group-addon"></span>
                                            <input type="text" class="form-control" name="username" placeholder="请输入姓名" id="username"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <!-- 电话 -->
                                        <label class="control-label col-md-3 username">电话</label>
                                        <div class="col-md-9 input-group">
                                            <span class="glyphicon glyphicon-phone input-group-addon"></span>
                                            <input type="text" class="form-control" name="tel" placeholder="请输入电话" id="tel"/>
                                        </div>
                                    </div>
                                    <!-- 注册按钮 -->
                                    <div class="row col-md-12">
                                        <button type="button" class="btn btn-primary col-md-3 col-md-offset-6" name="btnRegister" id="btnRegister">注册</button>
                                    </div>
                                    <div class="row col-md-12">
                                        <label class="control-label col-md-10 col-md-offset-5 reg">已有账号? <a href="./Login.html" >马上登录</a></label>
                                    </div>
                                </div>
                                <div class="col-md-1"></div>
                            </div>
                            <!-- 右留白 -->
                            <div class="col-md-1"></div>
                        </form>


                    </div>
                </div>
                <!--右空白-->
                <div class="col-md-3 "></div>
            </div>
        </div>
        <script type="text/javascript">
            $(function () {
                //按钮点击事件
                $("#btnRegister").on('click', function () {
                    var userkey = $("#userkey").val(); //获取账号输入框的内容
                    var pass = $("#password").val();  //获取密码输入框的内容
                    var pwd = $("#pwd").val(); //获取账号输入框的内容
                    var username = $("#username").val();  //获取密码输入框的内容
                    var tel = $("#tel").val();  //获取密码输入框的内容
                    if (userkey == '' || pass == '') {
                        alert("用户名及密码不能为空");
                        return false;
                    } else if (pass !== pwd) {
                        alert("两次密码输入不一致");
                        return false;
                    } else {
                        //ajax
                        $.ajax({
                            url: '../scripts/register.php',
                            type: 'post',
                            dataType: 'text', //返回纯文本字符串
                            data: {
                                userkey: userkey,
                                password: pass,
                                pwd: pwd,
                                username: username,
                                tel: tel
                            },
                            success: function () {
                                alert('注册成功');
                                window.location.href = 'login.html';//登录成功跳转
                            },
                            //错误返回事件
                            error: function () {
                                alert('注册失败');
                            }
                        });
                    }
                    return false;
                });
            });
        </script>
    </body>
</html>
